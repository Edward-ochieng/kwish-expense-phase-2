{"ast":null,"code":"var _jsxFileName = \"/home/edward/project-mode/kwish-expense-phase-2/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useEffect, useState } from 'react';\nimport './App.css';\nimport CenterDiv from './components/CenterDiv';\nimport Expenses from './components/Expenses';\nimport Header from './components/Header';\nimport InputModal from './components/InputModal';\nimport Loading from './components/Loading';\nimport SearchInput from './components/SearchInput';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [originalExpenses, setOriginalExpenses] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [isGetLoading, setIsGetLoading] = useState(false);\n  const [isAddLoading, setIsAddLoading] = useState(false);\n  const [modalShow, setModalShow] = useState(false);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\"\n  });\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const updatingFormHandler = event => {\n    setFormData(prevFormData => ({ ...prevFormData,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  useEffect(() => {\n    const initialization = async () => {\n      try {\n        setIsGetLoading(true);\n        const response = await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json');\n        const responseData = await response.json();\n        const array = [];\n\n        if (responseData) {\n          for (const key in responseData) {\n            const obj = {\n              idNo: responseData[key].idNo,\n              name: responseData[key].name,\n              description: responseData[key].description,\n              price: responseData[key].price\n            };\n            array.push(obj);\n          }\n        }\n\n        setExpenses(array);\n        setOriginalExpenses(array);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setIsGetLoading(false);\n      }\n    };\n\n    initialization();\n  }, []);\n  useEffect(() => {\n    if (searchInput.length > 0) {\n      setExpenses(prevExpenses => prevExpenses.filter(expense => expense.name.toLowerCase().includes(searchInput.toLowerCase())));\n    } else {\n      setExpenses(originalExpenses);\n    }\n  }, [searchInput, originalExpenses]);\n\n  const enterSearchHandler = event => {\n    setSearchInput(event.target.value);\n  };\n\n  const addExpenseHandler = async () => {\n    if (formData.name.length === 0 || formData.description.length === 0 || formData.price.length === 0) {\n      setIsAddLoading(false);\n      return;\n    }\n\n    try {\n      setIsAddLoading(true);\n      const response = await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          idNo: expenses.length + 1,\n          name: formData.name,\n          description: formData.description,\n          price: formData.price\n        })\n      });\n      const responseData = await response.json();\n      setExpenses(prevExpenses => [...prevExpenses, {\n        idNo: prevExpenses.length + 1,\n        name: formData.name,\n        description: formData.description,\n        price: formData.price\n      }]);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setIsAddLoading(false);\n      setModalShow(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputModal, {\n      isAddLoading: isAddLoading,\n      addExpenseHandler: addExpenseHandler,\n      updatingFormHandler: updatingFormHandler,\n      show: modalShow,\n      onHide: () => setModalShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n      enterSearchHandler: enterSearchHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), isGetLoading && /*#__PURE__*/_jsxDEV(CenterDiv, {\n      children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }, this), !isGetLoading && /*#__PURE__*/_jsxDEV(Expenses, {\n      expenses: expenses,\n      onShow: () => setModalShow(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Vujf5zUMG9xIE+QTMvYvIr0fWic=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Fragment","useEffect","useState","CenterDiv","Expenses","Header","InputModal","Loading","SearchInput","App","originalExpenses","setOriginalExpenses","expenses","setExpenses","isGetLoading","setIsGetLoading","isAddLoading","setIsAddLoading","modalShow","setModalShow","formData","setFormData","name","description","price","searchInput","setSearchInput","updatingFormHandler","event","prevFormData","target","value","initialization","response","fetch","responseData","json","array","key","obj","idNo","push","err","console","log","length","prevExpenses","filter","expense","toLowerCase","includes","enterSearchHandler","addExpenseHandler","method","headers","body","JSON","stringify"],"sources":["/home/edward/project-mode/kwish-expense-phase-2/src/App.js"],"sourcesContent":["import { Fragment, useEffect, useState } from 'react';\nimport './App.css';\nimport CenterDiv from './components/CenterDiv';\nimport Expenses from './components/Expenses';\nimport Header from './components/Header';\nimport InputModal from './components/InputModal';\nimport Loading from './components/Loading';\nimport SearchInput from './components/SearchInput';\n\nfunction App() {\n\n  const [originalExpenses, setOriginalExpenses] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [isGetLoading, setIsGetLoading] = useState(false);\n  const [isAddLoading, setIsAddLoading] = useState(false);\n  const [modalShow, setModalShow] = useState(false);\n  const [formData, setFormData] = useState({ name: \"\", description: \"\", price: \"\" });\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const updatingFormHandler = (event) => {\n    setFormData(prevFormData => ({ ...prevFormData, [event.target.name]: event.target.value }));\n  }\n\n  useEffect(() => {\n    const initialization = async () => {\n      try {\n        setIsGetLoading(true);\n        const response =  await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json');\n        const responseData = await response.json();\n        const array = [];\n        if (responseData) {\n          for (const key in responseData) {\n            const obj = { idNo: responseData[key].idNo, name: responseData[key].name, description: responseData[key].description, price: responseData[key].price };\n            array.push(obj);\n          }\n        }\n        setExpenses(array);\n        setOriginalExpenses(array);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setIsGetLoading(false);\n      }\n    }\n    initialization();\n  }, []);\n\n  useEffect(() => {\n    if (searchInput.length > 0){\n      setExpenses(prevExpenses => prevExpenses.filter((expense) => expense.name.toLowerCase().includes(searchInput.toLowerCase())));\n    } else {\n      setExpenses(originalExpenses);\n    }\n  }, [searchInput, originalExpenses])\n\n  const enterSearchHandler = (event) => {\n    setSearchInput(event.target.value);\n  }\n\n  const addExpenseHandler =  async () => {\n    if (formData.name.length === 0 || formData.description.length === 0 || formData.price.length === 0){\n      setIsAddLoading(false);\n      return;\n    }\n    try {\n      setIsAddLoading(true);\n      const response = await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ idNo: expenses.length + 1, name: formData.name, description: formData.description, price: formData.price }) });\n      const responseData = await response.json();\n      setExpenses(prevExpenses => [...prevExpenses, { idNo: prevExpenses.length + 1, name: formData.name, description: formData.description, price: formData.price }]);\n    } catch(err) {\n      console.log(err);\n    } finally {\n      setIsAddLoading(false);\n      setModalShow(false);\n    }\n  }\n\n  return (\n    <Fragment>\n      <Header></Header>\n      <InputModal isAddLoading={isAddLoading} addExpenseHandler={addExpenseHandler} updatingFormHandler={updatingFormHandler} show={modalShow} onHide={() => setModalShow(false)}></InputModal>\n      <SearchInput enterSearchHandler={enterSearchHandler}></SearchInput>\n      { isGetLoading && <CenterDiv><Loading></Loading></CenterDiv> }\n      {!isGetLoading && <Expenses expenses={expenses} onShow={() => setModalShow(true)}></Expenses>}\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}