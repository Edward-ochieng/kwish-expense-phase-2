{"ast":null,"code":"var _jsxFileName = \"/home/edward/project-mode/kwish-expense-phase-2/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useEffect, useState } from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport HomePage from './components/HomePage';\nimport AddExpensePage from './components/AddExpensePage';\nimport SearchPage from './components/SearchPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [originalExpenses, setOriginalExpenses] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [isGetLoading, setIsGetLoading] = useState(false);\n  const [isAddLoading, setIsAddLoading] = useState(false);\n  const [modalShow, setModalShow] = useState(true);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\"\n  });\n  const [searchInput, setSearchInput] = useState(\"\");\n  const navigate = useNavigate();\n\n  const updatingFormHandler = event => {\n    setFormData(prevFormData => ({ ...prevFormData,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  useEffect(() => {\n    const initialization = async () => {\n      try {\n        setIsGetLoading(true);\n        const response = await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json');\n        const responseData = await response.json();\n        const array = [];\n\n        if (responseData) {\n          for (const key in responseData) {\n            const obj = {\n              idNo: responseData[key].idNo,\n              name: responseData[key].name,\n              description: responseData[key].description,\n              price: responseData[key].price\n            };\n            array.push(obj);\n          }\n        }\n\n        setExpenses(array);\n        setOriginalExpenses(array);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setIsGetLoading(false);\n      }\n    };\n\n    initialization();\n  }, []);\n  useEffect(() => {\n    if (searchInput.length > 0) {\n      setExpenses(prevExpenses => prevExpenses.filter(expense => expense.name.toLowerCase().includes(searchInput.toLowerCase())));\n    } else {\n      setExpenses(originalExpenses);\n    }\n  }, [searchInput, originalExpenses]);\n\n  const enterSearchHandler = event => {\n    setSearchInput(event.target.value);\n  };\n\n  const addExpenseHandler = async () => {\n    if (formData.name.length === 0 || formData.description.length === 0 || formData.price.length === 0) {\n      setIsAddLoading(false);\n      return;\n    }\n\n    try {\n      setIsAddLoading(true);\n      const response = await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          idNo: expenses.length + 1,\n          name: formData.name,\n          description: formData.description,\n          price: formData.price\n        })\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      setExpenses(prevExpenses => [...prevExpenses, {\n        idNo: prevExpenses.length + 1,\n        name: formData.name,\n        description: formData.description,\n        price: formData.price\n      }]);\n      navigate('/');\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setIsAddLoading(false);\n      setModalShow(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {\n          isGetLoading: isGetLoading,\n          expenses: expenses,\n          setModalShow: setModalShow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-expense\",\n        element: /*#__PURE__*/_jsxDEV(AddExpensePage, {\n          setModalShow: setModalShow,\n          modalShow: modalShow,\n          isAddLoading: isAddLoading,\n          addExpenseHandler: addExpenseHandler,\n          updatingFormHandler: updatingFormHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        element: /*#__PURE__*/_jsxDEV(SearchPage, {\n          enterSearchHandler: enterSearchHandler,\n          expenses: expenses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Qs2f6H/Jf96tThsoq2cU3DRhdaU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Fragment","useEffect","useState","Header","Routes","Route","useNavigate","HomePage","AddExpensePage","SearchPage","App","originalExpenses","setOriginalExpenses","expenses","setExpenses","isGetLoading","setIsGetLoading","isAddLoading","setIsAddLoading","modalShow","setModalShow","formData","setFormData","name","description","price","searchInput","setSearchInput","navigate","updatingFormHandler","event","prevFormData","target","value","initialization","response","fetch","responseData","json","array","key","obj","idNo","push","err","console","log","length","prevExpenses","filter","expense","toLowerCase","includes","enterSearchHandler","addExpenseHandler","method","headers","body","JSON","stringify"],"sources":["/home/edward/project-mode/kwish-expense-phase-2/src/App.js"],"sourcesContent":["import { Fragment, useEffect, useState } from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport HomePage from './components/HomePage';\nimport AddExpensePage from './components/AddExpensePage';\nimport SearchPage from './components/SearchPage';\n\nfunction App() {\n\n  const [originalExpenses, setOriginalExpenses] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [isGetLoading, setIsGetLoading] = useState(false);\n  const [isAddLoading, setIsAddLoading] = useState(false);\n  const [modalShow, setModalShow] = useState(true);\n  const [formData, setFormData] = useState({ name: \"\", description: \"\", price: \"\" });\n  const [searchInput, setSearchInput] = useState(\"\");\n  const navigate = useNavigate();\n\n  const updatingFormHandler = (event) => {\n    setFormData(prevFormData => ({ ...prevFormData, [event.target.name]: event.target.value }));\n  }\n\n  useEffect(() => {\n    const initialization = async () => {\n      try {\n        setIsGetLoading(true);\n        const response =  await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json');\n        const responseData = await response.json();\n        const array = [];\n        if (responseData) {\n          for (const key in responseData) {\n            const obj = { idNo: responseData[key].idNo, name: responseData[key].name, description: responseData[key].description, price: responseData[key].price };\n            array.push(obj);\n          }\n        }\n        setExpenses(array);\n        setOriginalExpenses(array);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setIsGetLoading(false);\n      }\n    }\n    initialization();\n  }, []);\n\n  useEffect(() => {\n    if (searchInput.length > 0){\n      setExpenses(prevExpenses => prevExpenses.filter((expense) => expense.name.toLowerCase().includes(searchInput.toLowerCase())));\n    } else {\n      setExpenses(originalExpenses);\n    }\n  }, [searchInput, originalExpenses])\n\n  const enterSearchHandler = (event) => {\n    setSearchInput(event.target.value);\n  }\n\n  const addExpenseHandler =  async () => {\n    if (formData.name.length === 0 || formData.description.length === 0 || formData.price.length === 0){\n      setIsAddLoading(false);\n      return;\n    }\n    try {\n      setIsAddLoading(true);\n      const response = await fetch('https://mealstogo-5da8e-default-rtdb.firebaseio.com/expenses.json', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ idNo: expenses.length + 1, name: formData.name, description: formData.description, price: formData.price }) });\n      const responseData = await response.json();\n      console.log(responseData);\n      setExpenses(prevExpenses => [...prevExpenses, { idNo: prevExpenses.length + 1, name: formData.name, description: formData.description, price: formData.price }]);\n      navigate('/');\n    } catch(err) {\n      console.log(err);\n    } finally {\n      setIsAddLoading(false);\n      setModalShow(false);\n    }\n  }\n\n  return (\n    <Fragment>\n      <Header></Header>\n      <Routes>\n        <Route path='/' element={<HomePage isGetLoading={isGetLoading} expenses={expenses} setModalShow={setModalShow} ></HomePage>}></Route>\n        <Route path='/add-expense' element={<AddExpensePage setModalShow={setModalShow} modalShow={modalShow} isAddLoading={isAddLoading} addExpenseHandler={addExpenseHandler} updatingFormHandler={updatingFormHandler}></AddExpensePage>}></Route>\n        <Route path='/search' element={<SearchPage enterSearchHandler={enterSearchHandler} expenses={expenses}></SearchPage>}></Route>\n      </Routes>\n      {/* <InputModal isAddLoading={isAddLoading} addExpenseHandler={addExpenseHandler} updatingFormHandler={updatingFormHandler} show={modalShow} onHide={() => setModalShow(false)}></InputModal>\n      <SearchInput enterSearchHandler={enterSearchHandler}></SearchInput> */}\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}